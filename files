__winc_id__ = 'ae539110d03e49ea8738fd413ac44ba8'
__human_name__ = 'files'

import os
import shutil 
import zipfile
import re


folder = os.getcwd()
folder_cache = folder + '\\cache'
zip_file = folder + '\\data.zip'

# excersize 1
def clean_cache():
    check = os.listdir(folder)
    if 'cache' in check:
        #delete folder
        shutil.rmtree(folder_cache) 
        #create folder
        os.mkdir(folder_cache) 
    else:
        #create folder
        os.mkdir(folder_cache) 

# excersize 2
def cache_zip(zip_file, folder_cache):
    with zipfile.ZipFile(zip_file, 'r') as zip_ref:
        zip_ref.extractall(folder_cache)

print("excersize 2")
print(cache_zip(zip_file, folder_cache))

# excersize 3
def cached_files():
    file_list = ""
    os.chdir('cache')
    for file in os.listdir():
        file_list = file_list + os.path.abspath(file) + " "
    return file_list

print("excersize 3")
print(cached_files())

# excersize 4
def find_password(list_files):
    for x in list_files:
        s = open(x, 'r')
        file = s.read()
        for x in file:
            if 'password' in file:
                t = re.search("[\n\r].*password:\s*([^\n\r]*)", file).group()
                return t

print("excersize 4")
print(find_password(cached_files()))
